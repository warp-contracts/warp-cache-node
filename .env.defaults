# test, prod
ENV=prod

WARP_GW_URL='https://gw.warp.cc'

# PG config
PG_HOST='localhost'
PG_DATABASE='postgres'
PG_USER_WARP='warp'
PG_USER_WARP_PASSWORD='warp_password'
PG_USER_DRE='dre'
PG_USER_DRE_PASSWORD='dre_password'
PG_PORT=21726
PG_SSL='false'
PG_MIN_CONTRACT_ENTRIES=100
PG_MAX_CONTRACT_ENTRIES=1000

FIRST_INTERACTION_TIMESTAMP=1592991945000
REDIS_PUBLISH_STATE=false
APPSYNC_PUBLISH_STATE=false
# required only if APPSYNC_PUBLISH_STATE=true
APPSYNC_KEY=''
APPSYNC_STREAM=''

NODE_JWK_KEY=''
UPDATE_MODE='poll'
# 1h (60 * 60s), 1m (60s), 2s
SYNC_WINDOW_SECONDS='[3600,60,2]'
POLL_RESPONSE_LENGTH_LIMIT=500
POLL_INTERACTIONS_URL='http://api-dre-sync.warp.cc/v1/ro/interactions'
# Spawns a separate node process to evaluate a partition of interactions
POLL_FORK_PROCESS=false


## Warp GW Redis connection, required only if PUBSUB_TYPE=redis
# required only if the PUBSUB_TYPE=redis #
GW_PORT=6379
GW_HOST=dre-redis-read.warp.cc
GW_USERNAME=contracts
GW_PASSWORD=''
GW_TLS=true
GW_ENABLE_OFFLINE_QUEUE=true
GW_LAZY_CONNECT=true
GW_TLS_CA_CERT="-----BEGIN CERTIFICATE-----
MIIDETCCAfmgAwIBAgIQGtQFDAhfVt7WahjerUprvDANBgkqhkiG9w0BAQsFADAT
MREwDwYDVQQDEwhyZWRpcy1jYTAeFw0yNDAzMjExMDQ4NThaFw0yNTAzMjExMDQ4
NThaMBMxETAPBgNVBAMTCHJlZGlzLWNhMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8A
MIIBCgKCAQEApw8BmlTWnVQYzDIbIb3sw8o68VL0e0r1p6VztricltSA4x/kruJ8
DJ7uxdW8C/c+Ws59F/5vn88SR9DJHLA0YWiayP1iRCZZZaI4yplslLUdwXMcotcK
5Rczo27JOInO+JWSfUEQwVkNkLjEFG066LMRP7F4+43Zwh+NkitcJyZLDyozEG9R
RrQrwkvTp3cYGY9fzS8o+BC2ESjdOOf6JrnyQ0rZpHskTjASLqpr0ohVF8LPQjJn
VX6PrWhV4Bj/wvt+IwOViR4Q6A61Zvdn4VFVYQ4zniSLhUaP2OHNPA2xChsbX6TR
oLBzSv/L6ogxWLnAMrOuwSQqB7/St9XfdQIDAQABo2EwXzAOBgNVHQ8BAf8EBAMC
AqQwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMA8GA1UdEwEB/wQFMAMB
Af8wHQYDVR0OBBYEFMq+mtHIKtEdYH2BP8kbAO4Ew2YDMA0GCSqGSIb3DQEBCwUA
A4IBAQB9ke6u71uv/Fk4lU53XU90Fm789w1z4nvQghMSB4sbz+7YKUTOsve25GeE
PojmfD16tVp66IGNJAsSNrenqwNpMgA1oV8wRo64M9rCyy2QbHmcrWNeLaKKaoru
Y2BFOsVCyr0LG0P2ztSdmj0XkE1co9Dpesxw/5LLXV+u/Ry2JrH+vFqYw749FUB2
LAH2RZBKSMjW06yW8ahZZr5BKRc6b9JCaZ9PPCAtXqGeggnGdrvu+L6nqIorH3sG
0GsqQ2VSpD7bEq9G1es+jJAzDQpbCKokxHn+4XbM+j4GLRkpaCfSnfeB5E3gi76G
X3WGjXaVErgH1d4NhroSm0oAFqmd
-----END CERTIFICATE-----"

### Evaluation options
EVALUATION_USEVM2=true
EVALUATION_MAXCALLDEPTH=5
EVALUATION_MAXINTERACTIONEVALUATIONTIMESECONDS=10
EVALUATION_ALLOWBIGINT=true
EVALUATION_UNSAFECLIENT=skip
EVALUATION_INTERNALWRITES=true
EVALUATION_WHITELIST_SOURCES='[]'
EVALUATION_BLACKLISTED_CONTRACTS='[]'

### Bull MQ redis connection ###
BULLMQ_PORT=6379
BULLMQ_HOST=
BULLMQ_USERNAME=
BULLMQ_PASSWORD=
BULLMQ_TLS=
BULLMQ_ENABLE_OFFLINE_QUEUE=true
BULLMQ_LAZY_CONNECT=true

### Available functionality
FUNC_VIEW_STATE=true
PROCESS_CONTRACT_EVENTS=false

### Workers ###
WORKERS_REGISTER=1
WORKERS_UPDATE=1
# By default maintenance is turned off
WORKERS_MAINTENANCE=0
# Every 5 minutes (value is in ms)
WORKERS_MAINTENANCE_WINDOW=300000
WORKERS_POST_EVAL=1
WORKERS_JOB_ID_REFRESH_SECONDS=2
WORKERS_MAX_FAILURES=3
WORKERS_MAX_STATESIZE=30000000
